@model saman.VIewModels.CompanyViewModel

@{
    ViewBag.Title = "افزودن شهرستان ها";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <div class="form-horizontal box box-primary">
            <div class="box-heade">
                <h4 class="box-title"> افزودن شهرستان های شرکت</h4>
            </div>
       

          @using (Ajax.BeginForm("AddSubCompany", "Admin", new AjaxOptions { UpdateTargetId = "listForm", HttpMethod = "Post", InsertionMode = InsertionMode.Replace }))
          { 
                @Html.AntiForgeryToken()
                <hr />
            
                    <div class="box-body">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        <div class="form-group">
                            @Html.LabelFor(model => model.Company.Name, htmlAttributes: new { @class = "control-label col-md-1" })
                            <div class="col-md-5">
                                @Html.EditorFor(model => model.Company.Name, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Company.Name, "", new { @class = "text-danger" })                              
                            </div>
                        </div>
                      @Html.HiddenFor(model=>model.Company.ParentId)
                   



                        <div class="form-group">
                            <div class="col-md-offset-1 col-md-9">
                                <input type="submit" value="افزودن" class="btn btn-default" id="btnSubAdd" />
                            </div>
                        </div>
                    </div>
          }
            </div>
        </div>
    </div>

        <div id="listForm">
    @Html.Partial("SubCompanies", Model.Companies)
</div>

<div>
    @Html.ActionLink("بازگشت به لیست محل های خدمت", "AddCompany")
</div>

<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")"></script>
